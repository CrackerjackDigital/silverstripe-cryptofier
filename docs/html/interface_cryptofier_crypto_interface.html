<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Two-way cryptography module for SilverStripe: CryptofierCryptoInterface Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Two-way cryptography module for SilverStripe
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interface_cryptofier_crypto_interface.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">CryptofierCryptoInterface Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for CryptofierCryptoInterface:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_cryptofier_crypto_interface.png" usemap="#CryptofierCryptoInterface_map" alt=""/>
  <map id="CryptofierCryptoInterface_map" name="CryptofierCryptoInterface_map">
<area href="class_cryptofier_crypto.html" alt="CryptofierCrypto" shape="rect" coords="83,56,240,80"/>
<area href="class_cryptofier_crypto_defuse.html" alt="CryptofierCryptoDefuse" shape="rect" coords="0,112,157,136"/>
<area href="class_cryptofier_crypto_zend.html" alt="CryptofierCryptoZend" shape="rect" coords="167,112,324,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1479dd90db262fc3e1543d43ed2ae816"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#a1479dd90db262fc3e1543d43ed2ae816">server_key</a> ()</td></tr>
<tr class="separator:a1479dd90db262fc3e1543d43ed2ae816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c8183d942a8feb92d5a3c3be98bdd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#ab0c8183d942a8feb92d5a3c3be98bdd1">generate_key</a> ($init=null)</td></tr>
<tr class="separator:ab0c8183d942a8feb92d5a3c3be98bdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0924dae431869b74d3b2455d1efe235"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#ad0924dae431869b74d3b2455d1efe235">friendly</a> ($unfriendlyValue)</td></tr>
<tr class="separator:ad0924dae431869b74d3b2455d1efe235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b318b33523f880f50e920ab8533c70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#a12b318b33523f880f50e920ab8533c70">encrypt_native</a> ($value, $friendlyKey)</td></tr>
<tr class="separator:a12b318b33523f880f50e920ab8533c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5dcadb0bf6eed63a3ea1fbb22397bc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#ad5dcadb0bf6eed63a3ea1fbb22397bc3">decrypt_native</a> ($encryptedValue, $friendlyKey)</td></tr>
<tr class="separator:ad5dcadb0bf6eed63a3ea1fbb22397bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c800697e60a87a32fadb3112f03b96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#ab5c800697e60a87a32fadb3112f03b96">encrypt</a> ($plainTextValue, $friendlyKeySecondPass=null)</td></tr>
<tr class="separator:ab5c800697e60a87a32fadb3112f03b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68529dec988055704cabed2ec88ef124"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#a68529dec988055704cabed2ec88ef124">decrypt</a> ($friendlyEncryptedValue, $friendlyKeySecondPass=null)</td></tr>
<tr class="separator:a68529dec988055704cabed2ec88ef124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18fe9ee707e22dabc62c1ed94beaf19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#aa18fe9ee707e22dabc62c1ed94beaf19">encrypt_token</a> (array $values, $accessKey=null)</td></tr>
<tr class="separator:aa18fe9ee707e22dabc62c1ed94beaf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453f9a9fb9116e19bd1ec4b703da4d13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#a453f9a9fb9116e19bd1ec4b703da4d13">decrypt_token</a> ($friendlyToken, $accessKey=null)</td></tr>
<tr class="separator:a453f9a9fb9116e19bd1ec4b703da4d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a301bbce7c91b6d9f64fd74b56a3a4dd6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_cryptofier_crypto_interface.html#a301bbce7c91b6d9f64fd74b56a3a4dd6">config</a> ()</td></tr>
<tr class="separator:a301bbce7c91b6d9f64fd74b56a3a4dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a301bbce7c91b6d9f64fd74b56a3a4dd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Service needs to be configurable. </p><dl class="section return"><dt>Returns</dt><dd>Config_forClass </dd></dl>

</div>
</div>
<a class="anchor" id="a68529dec988055704cabed2ec88ef124"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">decrypt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$friendlyEncryptedValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$friendlyKeySecondPass</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decrypt value using server key, optionally using provided $friendleyKey which should be same as when the values was encrypted. The optional friendly key should be 'unfriendlied' before use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$friendlyEncryptedValue</td><td>- friendly encrypted value </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$friendlyKeySecondPass</td><td>- should have been generated using self.generate_key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string - decrypted value, maybe unfriendly  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto.html#ae75c4871f4826005919db5cfa07d21bb">CryptofierCrypto</a>.</p>

</div>
</div>
<a class="anchor" id="ad5dcadb0bf6eed63a3ea1fbb22397bc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">decrypt_native </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$encryptedValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$friendlyKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Native single pass decryption of value using key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$encryptedValue</td><td></td></tr>
    <tr><td class="paramname">$friendlyKey</td><td>- key generated by generate_key method</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string - encrypted value, maybe unfriendly  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto_zend.html#a32fd35d125ed616209020c7ca8327a6c">CryptofierCryptoZend</a>, and <a class="el" href="class_cryptofier_crypto_defuse.html#a32fd35d125ed616209020c7ca8327a6c">CryptofierCryptoDefuse</a>.</p>

</div>
</div>
<a class="anchor" id="a453f9a9fb9116e19bd1ec4b703da4d13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">decrypt_token </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$friendlyToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accessKey</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return array of decrypted values from the token. The optional friendly key should be 'unfriendlied' before use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$friendlyToken</td><td>- link to decrypt into parts, will be hex2bin converted before passing to Crypto </td></tr>
    <tr><td class="paramname">$accessKey</td><td>- optional second-pass key, see decrypt method for details</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array - decrypted token values in same order they where encrypted </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto.html#a453f9a9fb9116e19bd1ec4b703da4d13">CryptofierCrypto</a>.</p>

</div>
</div>
<a class="anchor" id="ab5c800697e60a87a32fadb3112f03b96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encrypt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$plainTextValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$friendlyKeySecondPass</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encrypt value using the server key, and optionally as a second pass using $friendlyKeySecondPass if provided. The optional friendly key should be 'unfriendlied' before use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$plainTextValue</td><td></td></tr>
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$friendlyKeySecondPass</td><td>- should have been generated using self.generate_key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string - friendly encrypted $plainTextValue  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto.html#ab5c800697e60a87a32fadb3112f03b96">CryptofierCrypto</a>.</p>

</div>
</div>
<a class="anchor" id="a12b318b33523f880f50e920ab8533c70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encrypt_native </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$friendlyKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NB: this is opposite to friendly and declared as abstract function as is protected. Only 'friendly' values should be passsed into the crypto interface so the unfriendly function isn't and doesn't need to be publicly accessible. Return the native value from a 'friendly' value previously returned by the 'friendly' function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$friendlyValue</td><td>- value generated by the 'friendly' function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed - unfriendly value usefull directly to crypto libraries etc Native single pass encryption of value using key.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$value</td><td></td></tr>
    <tr><td class="paramname">$friendlyKey</td><td>- key generated by generate_key method</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto_zend.html#a12b318b33523f880f50e920ab8533c70">CryptofierCryptoZend</a>, and <a class="el" href="class_cryptofier_crypto_defuse.html#a12b318b33523f880f50e920ab8533c70">CryptofierCryptoDefuse</a>.</p>

</div>
</div>
<a class="anchor" id="aa18fe9ee707e22dabc62c1ed94beaf19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encrypt_token </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accessKey</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return an encoded version of passed parameters which can be passed on link into the system booking pages. The return token is friendly ready to pass on url or give to person. The optional friendly key should be 'unfriendlied' before use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$values</td><td>- values to encrypt into token </td></tr>
    <tr><td class="paramname">$accessKey</td><td>- optional second-pass key, see decrypt method for details</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>null|string - friendly encrypted value  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto.html#aa18fe9ee707e22dabc62c1ed94beaf19">CryptofierCrypto</a>.</p>

</div>
</div>
<a class="anchor" id="ad0924dae431869b74d3b2455d1efe235"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friendly </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$unfriendlyValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a value which is safe to use in url's and copy-paste operations, at a pinch typeable so probably ANSI. This could be a cypher text or a system generated key which is a byte string for example.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$unfriendlyValue</td><td>- value likely to break urls or be otherwise unfriendly to humans/UI.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string - friendly value  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto_zend.html#ad0924dae431869b74d3b2455d1efe235">CryptofierCryptoZend</a>, and <a class="el" href="class_cryptofier_crypto_defuse.html#ad0924dae431869b74d3b2455d1efe235">CryptofierCryptoDefuse</a>.</p>

</div>
</div>
<a class="anchor" id="ab0c8183d942a8feb92d5a3c3be98bdd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">generate_key </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$init</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate a new access key. It should be 'friendly' so needs to be passed through self.unfriendly before being handed to the native crypto api.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null</td><td class="paramname">$init</td><td>- anything needed to init or augment the generated key, e.g. a randomiser</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string - friendly  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto_zend.html#a6f048b131c48c5bf08417e8ad802dd73">CryptofierCryptoZend</a>, and <a class="el" href="class_cryptofier_crypto_defuse.html#ad169ece6058bcf068b0829649479cb2e">CryptofierCryptoDefuse</a>.</p>

</div>
</div>
<a class="anchor" id="a1479dd90db262fc3e1543d43ed2ae816"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">server_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the private server key used as part of the two-step encryption process. This should be returned 'friendly'. </p><dl class="section return"><dt>Returns</dt><dd>string - friendly  </dd></dl>

<p>Implemented in <a class="el" href="class_cryptofier_crypto.html#a1479dd90db262fc3e1543d43ed2ae816">CryptofierCrypto</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>/Library/WebServer/sites/crackerjack/soc/htdocs/cryptofier/interfaces/Crypto.php</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface_cryptofier_crypto_interface.html">CryptofierCryptoInterface</a></li>
    <li class="footer">Generated on Sun Jun 28 2015 10:29:21 for Two-way cryptography module for SilverStripe by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
